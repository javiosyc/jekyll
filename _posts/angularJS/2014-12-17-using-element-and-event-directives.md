---
layout: post
title: "Using Element and Event Directives"
description: ""
category: [AngularJS]
tags: [AngularJS]
---
{% include JB/setup %}


|Problem								|	Solution
|Show or hide elements.					|Use the **ng-show and ng-hide directives**.
|Remove elements from the DOM.			|Use the **ng-if directive**.
|Avoid the transclusion problem when generating elements that can’t have an intermediate parent element.|Use the **ng-repeat directive with a filter**.
|Assign elements to classes or set individual CSS style properties.	|Use the **ng-class or ng-style** directive.
|Assign different classes to **odd and even elements generated by the ng-repeat directive**.	|Use the ng-class-odd and ng-class-even directives.
|Define behavior to be performed when an event is triggered.	|Use an event directive such as ng-click.
|Handle an event for which AngularJS does not provide a directive.	|Create a custom event directive.
|Apply Boolean attributes to elements.	|Use one of the Boolean attribute directives, such as ng-checked.


###Using the Element Directives

The first set of directives are used to configure and style elements in the Document Object Model (DOM).

These directives are useful for managing the way that an application displays content and data and, since this is AngularJS, for using bindings to change the HTML document dynamically when the data model changes.

|Directive		|Applied As
|ng-if			|Attribute Attribute		|Adds and removes elements from the DOM|
|ng-class		|Attribute Attribute, class	|Sets the class attribute for an element|
|ng-class-even	|Attribute Attribute, class	|Sets the class attribute for even-numbered elements generated within the ng-repeat directive|
|ng-class-odd	|Attribute Attribute, class	|Sets the class attribute for odd-numbered elements generated within the ng-repeat directive|
|ng-hide		|Attribute Attribute, class	|Shows and hides elements in the DOM|
|ng-show		|Attribute Attribute, class	|Shows and hides elements in the DOM|
|ng-style		|Attribute Attribute, class	|Sets one or more CSS properties|

###Showing, Hiding, and Removing Elements

Many of the directives in this category control whether elements are visible to the user, either by hiding them or by removing them completely from the DOM.


The ng-show and ng-hide directives control element visibility by adding and removing elements from a class called, confusingly, ng-hide.

The **ng-hide class** applies a **CSS style that sets the display property to none, removing the element from view**.

The difference between ng-show and ng-hide is that **ng-show hides elements when its expression evaluates to false** and **ng-hid hides elements when its expression evaluates to true**.

`<td>`

>`<span ng-hide="item.complete">(Incomplete)</span>`

>`<span ng-show="item.complete">(Done)</span>`

`</td>`


...

`td > *:first-child {font-weight: bold}`

...


The problem is that **the ng-show and ng-hide directives** leave the elements they manage in the DOM and **just hide them from the user**.

They are not hidden from the browser, as it were, and so **position-based CSS selectors** like this one will count hidden elements.

...

`<td>`

>`<span ng-if="!item.complete">(Incomplete)</span>`

>`<span ng-if="item.complete">(Done)</span>`

`</td>`

###Avoiding Table Striping Problems and Conflicts with ng-repeat

The ng-show, ng-hide, and ng-if directives all have problems when they are applied to the elements that make up tables, which is a shame because new AngularJS developers often try to use the directives to manage the contents displayed by tables.

The answer is to use a filter.

`<table class="table table-striped">`

>`<thead>`

>>`<tr><th>#</th><th>Action</th><th>Done</th></tr>`

>`</thead>`

>`<tr ng-repeat="item in todos | filter: {complete: 'false'}">`

{% raw %}
>>`<td>{{$index + 1}}</td>`

>>`<td>{{item.action}}</td>`

>>`<td>{{item.complete}}</td>`
{% endraw %}

>`</tr>`

`</table>`

...

###Managing Classes and CSS

AngularJS provides a set of directives that are used to assign elements to classes and set individual CSS properties.

You can see the first two of these directives—ng-class and ng-style.

`<tr ng-repeat="item in todos" ng-class="settings.Rows">`

{% raw %}
>`<td>{{$index + 1}}</td>`

>`<td>{{item.action}}</td>`

>`<td ng-style="{'background-color': settings.Columns}">`

>>`{{item.complete}}`

>`</td>`
{% endraw %}

`</tr>`

###Assigning Odd and Even Classes

A variation on the ng-class directive is offered by the ng-class-odd and ng-class-even directives, which are used within an ng-repeat directive and apply classes only to odd- or even-numbered elements.

`<tr ng-repeat="item in todos" ng-class-even="settings.Rows"`

>`ng-class-odd="settings.Columns">`

{% raw %}
>>`<td>{{$index + 1}}</td>`

>>`<td>{{item.action}}</td>`

>>`<td>{{item.complete}}</td>`
{% endraw %}

`</tr>`


###Handling Events

|ng-blur	|Attribute,class|Specifies a custom behavior for the blur event, which is triggered when an element loses the focus.|
|ng-change	|Attribute,class|Specifies a custom behavior for the change event, which is triggered by **form elements when their state of content is changed**|
|ng-click	|Attribute,class|Specifies a custom behavior for the click event, which is triggered when the user clicks the mouse/pointer.|
|ng-copy<br>ng-cut<br>ng-paste|Attribute,class|Specifies a **custom behavior for the copy, cut, and paste events**.|
|ng-dblclick|Attribute,class|Specifies a custom behavior for the dblclick event, which is triggered when the user double-clicks the mouse/pointer.|
|ng-focus|Attribute,class|Specifies a custom behavior for the focus event, which is triggered when an element gains the focus.|
|ng-keydown<br>ng-keypress<br>ng-keyup|Attribute,class|Specifies custom behavior for the keydown, keyup, and keypress events, which are triggered when the user presses/releases a key.|
|ng-mousedown<br>ng-mouseenter<br>ng-mouseleave<br>ng-mousemove<br>ng-mouseover<br>ng-mouseup|Attribute,class|Specifies custom behavior for the six standard mouse events (mousedown, mouseenter, mouseleave, movemove, mouseover, and mouseup), which are triggered when the user interacts with an element using the mouse/pointer.|
|ng-submit|Attribute,class|Specifies a custom behavior for the submit event, which is triggered when a form is submitted.|

The event handler directives can be used to **evaluate an expression directly or to invoke a behavior in the controller**.

I have applied the ng-click directive to a set of button elements that I generate using the ng-repeat directive.

The expression that I have specified will be evaluated when one of the buttons is clicked, directly updating a value in the data model, as follows:

...

`<button class="btn btn-info" ng-click="data.rowColor = button">`

{% raw %}
    {{button}}
{% endraw %}

`</button>`

...

If you are **uncomfortable using inline expression**—and many developers are—or if you need to **perform complex logic**, then you can **define a behavior in the controller and invoke it from the event directive**.

...

`<tr ng-repeat="item in todos" ng-class="data.rowColor"`

`ng-mouseenter="handleEvent($event)" ng-mouseleave="handleEvent($event)">`

...

I have applied the ng-mouseenter and ng-mouseleave directives to the tr elements, specifying that the handleEvent behavior should be invoked.

This is similar to the traditional model of JavaScript event handling, and to access the Event object, I use the **special $event variable, which all of the event directives define**.

**You must be careful when handling events in behaviors because there is a mismatch between the event names that AngularJS uses for the names of the directives and the value of the type property of the underlying events**.

In this example, I have added directives to **handle the mouseenter and mouseleave events**, but I receive different events in the behavior function:

...

`$scope.handleEvent = function (e) {`

>`console.log("Event type: " + e.type);`

>`$scope.data.columnColor = e.type == "mouseover" ? "Green" : "Blue";`

`}`

...

The safest way to figure out which events you will receive in the behavior is to set up the function and use console.log to write the value of the type property to the console.

In this way, I am able to tell that the **mouseenter event** will really **be presented as mouseover** and that the **mouseleave event** will be represented by **mouseout**.

###Creating a Custom Event Directive

I am going to show you how to create a **simple directive that you can use in your own projects to handle events for which AngularJS doesn’t provide a built-in directive**.

I have created a directive that handles the touchstart and touchend events, which are trigged by touch-enabled devices when the user taps and releases the screen.


##Managing Special Attributes

###Managing Boolean Attributes

The significance of most HTML attributes is driven by the value assigned to the attribute, but some HTML attributes have an effect by their presence on an element, irrespective of their value.

These are known as Boolean attributes.

A good example is the disabled attribute; a button element, for instance, is disabled when the disabled attribute is applied, even when the attribute has no value, like this:


`...`

`<button class="btn" disabled>My Button</button>`

`...`

The only values that can be set for the disabled attribute are the empty string, like this:

`<button class="btn" disabled="">My Button</button>`

or disabled, like this:

`<button class="btn" disabled="disabled">My Button</button>`

What you can’t do is set the disabled attribute to false in order to enable a button.

This kind of attribute runs counter to the data binding approach that AngularJS uses.

To solve this problem, AngularJS contains a number of directives that can be used to manage Boolean attributes

|Dirctive|Applied As|Description|
|ng-checked|Attribute|Manages the checked attribute (used on input elements)|
|ng-disabled|Attribute|Manages the disabled attribute (used on input and button elements)|
|ng-open|Attribute|Manages the open attribute (used on details elements)|
|ng-readonly|Attribute|Manages the readonly attribute (used on input elements)|
|ng-selected |Attribute|Manages the selected attribute (used on option elements)|



`<script>`

>`angular.module("exampleApp", [])`

>>`.controller("defaultCtrl", function ($scope) {`

>>>`$scope.dataValue = false;`

>>`});`

`</script>`

....

`<div class="checkbox well">`

>`<label>`

>>`<input type="checkbox" ng-model="dataValue">`

>>>`Set the Data Value`

>`</label>`

`</div>`

`<button class="btn btn-success" ng-disabled="dataValue">My Button</button>`

###Managing Other Attributes

|Directive	|Applied As|Description|
|ng-href	|Attribute|Sets the href attribute on a elements.|
|ng-src		|Attribute|Sets the src attribute on img elements.|
|ng-srcset	|Attribute|Sets the srcset attribute on img elements. The srcset attribute is a draft standard to extend HTML5, allowing for multiple images to be specified for different display sizes and pixel densities. Browser support is limited as I write this.|
